{% extends 'base.html' %}

{% block content %}
<div class="portal-wrapper" style="padding: 40px 0;">
    <!-- Welcome Header -->
    <div class="welcome-header" style="text-align: center; margin-bottom: 60px;">
        <h1 class="welcome-title"
            style="font-size: 4rem; font-weight: 800; color: var(--primary-color); margin-bottom: 20px; line-height: 1.1;">
            منصة إرث
        </h1>
        <p class="welcome-subtitle"
            style="font-size: 1.4rem; color: var(--text-muted); max-width: 800px; margin: 0 auto; line-height: 1.7;">
            البوابة المتكاملة لإدارة التركات والمواريث بأحدث التقنيات الرقمية المعتمدة شرعياً ونظامياً.
        </p>
    </div>

    <!-- Bento Grid Section -->
    <div class="bento-grid"
        style="display: grid; grid-template-columns: repeat(12, 1fr); gap: 30px; grid-auto-rows: minmax(200px, auto);">

        <!-- Main Highlight: Calculator -->
        <div class="bento-item main-calc"
            style="grid-column: span 8; grid-row: span 2; position: relative; overflow: hidden; background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.02) 100%); border: 1px solid var(--glass-border); border-radius: 30px; padding: 60px; display: flex; flex-direction: column; justify-content: space-between;">
            <div style="z-index: 2;">
                <i class="fas fa-calculator"
                    style="font-size: 4rem; color: var(--primary-color); margin-bottom: 30px; display: block;"></i>
                <h2 style="font-size: 2.5rem; font-weight: 800; color: #fff; margin-bottom: 20px;">حاسبة المواريث الذكية
                </h2>
                <p
                    style="font-size: 1.2rem; color: var(--text-muted); max-width: 450px; margin-bottom: 40px; line-height: 1.6;">
                    محرك حسابي متطور يعالج كافة حالات المراجعة، الحجب، العول، والرد بدقة مطلقة وفق الشريعة الإسلامية.
                </p>
                <a href="{% url 'public_calculator' %}" class="btn-primary"
                    style="padding: 1rem 3rem; font-size: 1.2rem; border-radius: 12px;">
                    ابدأ الحساب الآن
                </a>
            </div>
            <!-- Decorative circle -->
            <div
                style="position: absolute; right: -50px; bottom: -50px; width: 300px; height: 300px; background: var(--primary-color); opacity: 0.05; border-radius: 50%; z-index: 1;">
            </div>
        </div>

        <!-- Feature: Sharia Approved -->
        <div class="bento-item side-feature"
            style="grid-column: span 4; background: var(--card-bg); border: 1px solid var(--glass-border); border-radius: 30px; padding: 40px; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: var(--transition);">
            <i class="fas fa-scroll" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 20px;"></i>
            <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 10px;">اعتماد مجلس العلماء</h3>
            <p style="color: var(--text-muted); font-size: 1rem;">موثقية شرعية تامة لكافة الحسابات.</p>
        </div>

        <!-- Feature: Secure & Private -->
        <div class="bento-item side-feature"
            style="grid-column: span 4; background: var(--card-bg); border: 1px solid var(--glass-border); border-radius: 30px; padding: 40px; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <i class="fas fa-shield-alt" style="font-size: 3rem; color: var(--primary-color); margin-bottom: 20px;"></i>
            <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 10px;">آمن وموثوق</h3>
            <p style="color: var(--text-muted); font-size: 1rem;">حماية تامة للبيانات والوثائق.</p>
        </div>

        <!-- Role Access: Judges & Admin -->
        <div class="bento-item role-access"
            style="grid-column: span 6; background: rgba(255, 255, 255, 0.02); border: 1px solid var(--glass-border); border-radius: 30px; padding: 50px; display: flex; align-items: center; gap: 30px;">
            <div
                style="background: rgba(212, 175, 55, 0.1); width: 100px; height: 100px; border-radius: 20px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <i class="fas fa-gavel" style="font-size: 3rem; color: var(--primary-color);"></i>
            </div>
            <div>
                <h3 style="font-size: 1.8rem; font-weight: 700; color: #fff; margin-bottom: 10px;">بوابة القضاء</h3>
                <p style="color: var(--text-muted); margin-bottom: 20px;">إدارة احترافية لحالات التركات وتوثيق القسمة
                    الشرعية.</p>
                {% if not user.is_authenticated %}
                <a href="{% url 'login' %}"
                    style="color: var(--primary-color); font-weight: 700; display: flex; align-items: center; gap: 8px;">
                    دخول القضاة والموظفين <i class="fas fa-arrow-left"></i>
                </a>
                {% endif %}
            </div>
        </div>

        <!-- Role Access: Heirs -->
        <div class="bento-item role-access"
            style="grid-column: span 6; background: rgba(255, 255, 255, 0.02); border: 1px solid var(--glass-border); border-radius: 30px; padding: 50px; display: flex; align-items: center; gap: 30px;">
            <div class="role-icon"
                style="background: rgba(212, 175, 55, 0.1); width: 100px; height: 100px; border-radius: 20px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <i class="fas fa-users" style="font-size: 3rem; color: var(--primary-color);"></i>
            </div>
            <div class="role-text">
                <h3 style="font-size: 1.8rem; font-weight: 700; color: #fff; margin-bottom: 10px;">حسابات الورثة</h3>
                <p style="color: var(--text-muted); margin-bottom: 20px;">متابعة سير القضايا وطلب الاستشارات وحجز
                    المواعيد.</p>
                {% if not user.is_authenticated %}
                <a href="{% url 'register_heir' %}"
                    style="color: var(--primary-color); font-weight: 700; display: flex; align-items: center; gap: 8px;">
                    تسجيل حساب وارث <i class="fas fa-arrow-left"></i>
                </a>
                {% endif %}
            </div>
        </div>

    </div>
</div>

<style>
    .bento-item:hover {
        transform: translateY(-8px);
        border-color: rgba(212, 175, 55, 0.4) !important;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
    }

    @media (max-width: 992px) {
        .portal-wrapper {
            padding: 20px 0 !important;
        }

        .welcome-header {
            margin-bottom: 40px !important;
        }

        .welcome-title {
            font-size: 2.5rem !important;
        }

        .welcome-subtitle {
            font-size: 1.1rem !important;
        }

        .bento-grid {
            grid-template-columns: 1fr !important;
            gap: 20px !important;
        }

        .bento-item {
            grid-column: span 1 !important;
            grid-row: auto !important;
            padding: 30px !important;
        }

        .main-calc h2 {
            font-size: 1.8rem !important;
        }

        .main-calc p {
            font-size: 1rem !important;
        }

        .main-calc i {
            font-size: 3rem !important;
        }

        .role-access {
            flex-direction: column !important;
            text-align: center !important;
            gap: 20px !important;
        }

        .role-icon {
            margin: 0 auto !important;
        }

        .role-access a {
            justify-content: center !important;
        }
    }
</style>
{% endblock %}